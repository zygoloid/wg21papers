<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Core Issue 1581: When are constexpr member functions defined?</title>

<style type="text/css">
  ins, ins > * { text-decoration:none; font-weight:bold; background-color:#A0FFA0 }
  del, del > * { text-decoration:line-through; background-color:#FFA0A0 }
  .ins { background-color:#C0FFC0 }
</style>

</head>

<body>
Richard Smith<br>
2014-02-12

<h1>Core Issue 1581: When are constexpr member functions defined?</h1>

<p>
Change in 14.7.1 temp.inst paragraph 5:
</p>

<blockquote>
Unless a variable template specialization has been explicitly instantiated or
explicitly specialized, the variable template specialization is implicitly
instantiated when <del>the specialization is used</del>
<ins>it is referenced in a context that requires a variable definition
to exist or if the existence of the definition affects the semantics of
the program</ins>. A default template argument for a
variable template is implicitly instantiated when the variable template is
referenced in a context that requires the value of the default argument.
</blockquote>

<p>
Add a new paragraph after 14.7.1 temp.inst paragraph 6:
</p>

<blockquote class="ins">
For a <tt>constexpr</tt> variable or function, the existence of a definition
is considered to affect the semantics of the program if the entity is named,
even if the reference occurs in an unevaluated operand.
FIXME: Implicit generation of special members talks about odr-use. Define
"definition is relevant" or similar term.
</blockquote>

</body></html>
